(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7ab76d17"],{"182a":function(t,e,a){"use strict";a("4d4d")},"4d4d":function(t,e,a){},"54dc":function(t,e,a){"use strict";a.d(e,"a",(function(){return o}));var s=a("5bc3"),i=a.n(s),n=a("970b"),r=a.n(n),c=a("fa7d"),l=i()((function t(e){var a=e.id,s=e.singer,i=e.name,n=e.album,c=e.duration,l=e.image,o=e.url,u=e.playCount,m=e.score;r()(this,t),this.id=a,this.singer=s,this.name=i,this.album=n,this.duration=c,this.image=l,this.url=o,this.playCount=u,this.score=m}));function o(t){return new l({id:t.id,singer:u(t.ar||t.artists),name:t.name,album:t.al?t.al.name:t.album.name,duration:c["a"].formatSecond(t.dt||t.duration),image:t.al?t.al.picUrl:t.album.artist.img1v1Url,url:"https://music.163.com/song/media/outer/url?id=".concat(t.id,".mp3"),playCount:t.playCount||"",score:t.score||""})}function u(t){var e=[];return t?(t.map((function(t){e.push(t.name)})),e.join(" / ")):""}},"5bc3":function(t,e){function a(t,e){for(var a=0;a<e.length;a++){var s=e[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function s(t,e,s){return e&&a(t.prototype,e),s&&a(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}t.exports=s,t.exports.__esModule=!0,t.exports["default"]=t.exports},"6ef4":function(t,e,a){"use strict";a("804b")},"804b":function(t,e,a){},"970b":function(t,e){function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}t.exports=a,t.exports.__esModule=!0,t.exports["default"]=t.exports},aa5c:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"artist-box"},[a("div",{staticClass:"tool-head"},[a("div",{staticClass:"item play-item",on:{click:t.playAllSong}},[a("i",{staticClass:"iconfont niceOutlined_Play"}),t._v(" 播放全部 ")]),t.isPerson?t._e():a("div",{staticClass:"item",class:t.subscribed?"active":"",on:{click:function(e){return t.collect()}}},[a("i",{staticClass:"iconfont niceicon-heart"}),t._v(" "+t._s(t.collectText)+" ")])]),a("table",{staticClass:"artist-table"},[t._m(0),a("tbody",t._l(t.songs,(function(e,s){return a("tr",{key:e.id,class:t.currentSong.id==e.id&&t.playing?"playing":""},[a("td",[a("div",{staticClass:"index-container flex-center"},[a("span",{staticClass:"num"},[t._v(t._s(t.utils.formatZero(s+1,2)))]),t._m(1,!0),a("i",{staticClass:"iconfont nicebofang2 play-btn",on:{click:function(a){return t.playSong(e,s)}}}),a("i",{staticClass:"iconfont nicezanting1 pause-btn",on:{click:function(a){return t.pauseSong(e,s)}}})])]),a("td",[a("div",{staticClass:"name-container"},[a("div",{staticClass:"avatar"},[a("el-image",{key:e.image+"?param=100y100",attrs:{src:e.image+"?param=100y100",lazy:""}},[a("div",{staticClass:"image-slot flex-center flex-column",attrs:{slot:"placeholder"},slot:"placeholder"},[a("i",{staticClass:"iconfont niceicon-3"})]),a("div",{staticClass:"image-slot flex-center",attrs:{slot:"error"},slot:"error"},[a("i",{staticClass:"el-icon-picture-outline"})])])],1),a("p",{staticClass:"name ellipsis",attrs:{title:e.name}},[t._v(t._s(e.name))])])]),a("td",[a("div",{staticClass:"artist-container"},[a("p",{staticClass:"author ellipsis",attrs:{title:e.singer}},[t._v(" "+t._s(e.singer)+" ")])])]),a("td",[a("div",{staticClass:"album-container"},[a("p",{staticClass:"ellipsis",attrs:{title:e.album}},[t._v(t._s(e.album))])])]),a("td",[a("div",{staticClass:"duration-container"},[a("p",[t._v(t._s(t.utils.formatSecondTime(e.duration)))]),t._m(2,!0)])])])})),0)])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"th-index"},[t._v("序号")]),a("th",{staticClass:"th-name"},[t._v("歌曲")]),a("th",{staticClass:"th-artist"},[t._v("歌手")]),a("th",{staticClass:"th-album"},[t._v("专辑")]),a("th",{staticClass:"th-duration"},[t._v("时长")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"play-icon"},[a("div",{staticClass:"line",staticStyle:{"animation-delay":"-1.2s"}}),a("div",{staticClass:"line"}),a("div",{staticClass:"line",staticStyle:{"animation-delay":"-1.5s"}}),a("div",{staticClass:"line",staticStyle:{"animation-delay":"-0.9s"}}),a("div",{staticClass:"line",staticStyle:{"animation-delay":"-0.6s"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"song-tools"},[a("i",{staticClass:"iconfont niceicon-heart",attrs:{title:"喜欢"}}),a("i",{staticClass:"iconfont nicexiazai",attrs:{title:"下载"}}),a("i",{staticClass:"iconfont nicedot",attrs:{title:"更多"}})])}],n=a("c973"),r=a.n(n),c=a("9523"),l=a.n(c),o=a("a34a"),u=a.n(o),m=a("2f62");function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function p(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){l()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var f={data:function(){return{}},props:{songs:{type:Array},subscribed:{type:Boolean},isPerson:{type:Boolean,default:!1}},components:{},computed:p(p({},Object(m["c"])(["currentIndex","playing","currentSong"])),{},{collectText:function(){return this.subscribed?"已收藏":"收藏"}}),watch:{},methods:p({playSong:function(t,e){this.selectPlay({list:this.songs,index:e})},pauseSong:function(){this.pausePlay()},playAllSong:function(){this.playAll({list:this.songs})},collect:function(){var t=this;return r()(u.a.mark((function e(){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$emit("collectArtist");case 1:case"end":return e.stop()}}),e)})))()}},Object(m["b"])(["selectPlay","playAll","pausePlay"])),created:function(){},mounted:function(){}},v=f,h=(a("6ef4"),a("2877")),b=Object(h["a"])(v,s,i,!1,null,"404980e0",null);e["a"]=b.exports},eea2:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"album-detail container"},[a("div",{staticClass:"left shadow"},[a("div",{staticClass:"top"},[a("div",{staticClass:"avatar"},[a("img",{attrs:{src:t.detail.picUrl+"?param=200y200",alt:""}})]),a("div",{staticClass:"info"},[a("div",{staticClass:"title flex-between"},[a("span",[t._v(t._s(t.detail.name))]),a("div")]),a("div",{staticClass:"user flex-row"},[a("div",{staticClass:"avatar"},[a("img",{attrs:{src:t.creator.picUrl+"?param=100y100",alt:""}})]),a("p",{staticClass:"nickname"},[t._v(t._s(t.creator.name))]),a("p",{staticClass:"createTime"},[t._v(" "+t._s(t.utils.dateFormat(t.detail.publishTime,"YYYY-MM-DD"))+"创建 ")])]),a("div",{staticClass:"tag flex-row"},[t._v("发行公司："+t._s(t.detail.company))]),a("div",{staticClass:"desc"},[a("p",{staticClass:"ellipsis-two",domProps:{innerHTML:t._s(t.detail.description)}}),t.txtLength(t.detail.description)>50?a("span",{staticClass:"flex-row",on:{click:function(e){return t.openDesc(t.detail.name,t.detail.description)}}},[t._v("全部"),a("i",{staticClass:"iconfont niceiconfontyoujiantou-copy-copy-copy-copy"})]):t._e()])])]),a("div",{staticClass:"content"},[a("artist-list",{attrs:{songs:t.songs,isPerson:!0}})],1)]),a("div",{staticClass:"right"},[a("div",{staticClass:"related module shadow"},[t._m(0),a("ul",t._l(t.hotAlbums,(function(e){return a("li",{key:e.id,on:{click:function(a){return t.toDetail(e.id)}}},[a("div",{staticClass:"avatar"},[a("img",{attrs:{src:e.picUrl+"?param=150y150",alt:e.name,title:e.name}})]),a("div",{staticClass:"info"},[a("h2",{staticClass:"ellipsis",attrs:{title:e.name}},[t._v(t._s(e.name))]),a("span",[t._v("By. "),a("small",[t._v(" "+t._s(e.artist.name))])])])])})),0)]),a("div",{staticClass:"comment module shadow"},[t._m(1),a("ul",t._l(t.comments,(function(e){return a("li",{key:e.time,staticClass:"item"},[a("div",{staticClass:"avatar"},[a("img",{attrs:{src:e.user.avatarUrl+"?param=150y150",alt:e.user.nickname,title:e.user.nickname}})]),a("div",{staticClass:"info"},[a("h2",[t._v(" "+t._s(e.user.nickname)),a("small",[t._v(" · "+t._s(t.utils.formatMsgTime(e.time)))])]),a("p",[t._v(t._s(e.content))])])])})),0)])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header flex-row"},[a("span",[t._v("热门专辑")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header flex-row"},[a("span",[t._v("精彩评论")])])}],n=a("c973"),r=a.n(n),c=a("a34a"),l=a.n(c),o=a("54dc"),u=a("aa5c"),m={data:function(){return{detail:{},creator:{},songs:[],subscribers:[],comments:[],hotAlbums:[]}},components:{ArtistList:u["a"]},computed:{txtLength:function(){return function(t){if(t)return t.length}}},watch:{$route:function(t,e){console.log(t,e);var a=this.$route.query.id;a&&this._initialize(a)}},methods:{getAlbumData:function(t){var e=this;return r()(l.a.mark((function a(){var s;return l.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.$api.getAlbumData(t);case 3:s=a.sent,200===s.code&&(e.detail=s.album,e.creator=s.album.artist,e.songs=e._normalizeSongs(s.songs),e.getArtistAlbum()),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),e.$message.error(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()},getArtistAlbum:function(){var t=this;return r()(l.a.mark((function e(){var a,s;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={id:t.creator.id,limit:5,offset:0},e.prev=1,e.next=4,t.$api.getArtistAlbum(a);case 4:s=e.sent,200===s.code&&(t.hotAlbums=s.hotAlbums),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()},getAlbumComment:function(t){var e=this;return r()(l.a.mark((function a(){var s,i;return l.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s={id:t,limit:28,offset:0},a.prev=1,a.next=4,e.$api.getAlbumComment(s);case 4:i=a.sent,200===i.code&&(i.hotComments.length>0?e.comments=i.hotComments:e.comments=i.comments),a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](1),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[1,8]])})))()},_normalizeSongs:function(t){var e=[];return t.map((function(t){t.id&&e.push(Object(o["a"])(t))})),e},openDesc:function(t,e){this.$alert(e,t,{closeOnClickModal:!0,customClass:"descBox",showConfirmButton:!1,dangerouslyUseHTMLString:!0})},toDetail:function(t){this.$router.push({name:"albumDetail",query:{id:t}})},_initialize:function(t){this.getAlbumData(t),this.getAlbumComment(t)}},created:function(){},mounted:function(){var t=this.$route.query.id;console.log(t),this.albumId=t,t&&this._initialize(t)}},d=m,p=(a("182a"),a("2877")),f=Object(p["a"])(d,s,i,!1,null,"125fc020",null);e["default"]=f.exports}}]);
//# sourceMappingURL=chunk-7ab76d17.c070e999.js.map