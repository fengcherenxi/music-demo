(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5f5b03e8"],{"033a":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("kinesis-container",[i("div",{staticClass:"login-wrap"},[i("kinesis-element",{attrs:{parallaxStrength:4,type:t.parallax}},[i("div",{staticClass:"login-box"},[i("img",{staticClass:"nice-logo",attrs:{src:n("a596")}}),i("p",[t._v("NICEMUSIC")]),i("div",{staticClass:"login-form"},[i("el-form",{ref:"ruleForm",attrs:{model:t.ruleForm,rules:t.rules}},[i("div",{staticClass:"login-input"},[i("el-form-item",{attrs:{prop:"phone"}},[i("el-input",{staticClass:"login-text",attrs:{type:"text",placeholder:"请输入网易云音乐手机号"},model:{value:t.ruleForm.phone,callback:function(e){t.$set(t.ruleForm,"phone",e)},expression:"ruleForm.phone"}}),i("span",{staticClass:"login-focus"}),i("span",{staticClass:"login-symbol"},[i("i",{staticClass:"iconfont nicephone2"})])],1)],1),i("div",{staticClass:"login-input"},[i("el-form-item",{attrs:{prop:"password"}},[i("el-input",{staticClass:"login-text",attrs:{type:"password",placeholder:"请输入密码"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login("ruleForm")}},model:{value:t.ruleForm.password,callback:function(e){t.$set(t.ruleForm,"password",e)},expression:"ruleForm.password"}}),i("span",{staticClass:"login-focus"}),i("span",{staticClass:"login-symbol"},[i("i",{staticClass:"iconfont nicemima"})])],1)],1),i("div",{staticClass:"login-footer"},[i("div",{staticClass:"login-btn-wrap"},[i("el-button",{staticClass:"login-btn",attrs:{type:"primary",loading:t.loginLoading},on:{click:function(e){return t.login("ruleForm")}}},[t._v("登录")])],1)])])],1)])])],1)])},s=[],r=n("7037"),o=n.n(r),a=n("c973"),l=n.n(a),c=n("9523"),u=n.n(c),d=n("a34a"),h=n.n(d),m=n("94b3"),p=n("2f62");function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){u()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var v={name:"login",data:function(){return{ruleForm:{phone:"",password:""},rules:{phone:[{required:!0,message:"手机号都没有！",trigger:"blur"}],password:[{required:!0,message:"密码呢！",trigger:"blur"}]},loginLoading:!1,parallax:"depth"}},components:{KinesisContainer:m["a"],KinesisElement:m["b"]},methods:g({login:function(t){var e=this;this.loginLoading=!1,this.$refs[t].validate((function(t){if(t){e.loginLoading=!0;var n=e.ruleForm,i=n.phone,s=n.password;e.loginAsync(i,s)}else e.loading=!1}))},loginAsync:function(t,e){var n=this;this.loginLoading=!1,this.$api.login(t,e).then((function(t){console.log(t),200===t.code?(n.getUserDetail(t.profile.userId),window.localStorage.setItem("cookie",t.cookie),window.localStorage.setItem("token",t.token),window.localStorage.setItem("loginStatu",!0),n.setLoginStatu(!0)):n.$message.error(t.msg)})).catch((function(){n.$message.error("似乎出了什么问题啊，啧啧啧!!!")}))},getUserDetail:function(t){var e=this;return l()(h.a.mark((function n(){var i,s;return h.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$api.getUserDetail(t);case 3:i=n.sent,200===i.code&&(s=i.profile,s.level=i.level,s.listenSongs=i.listenSongs,s.createTime=i.createTime,s.createDays=i.createDays,window.localStorage.setItem("userInfo",JSON.stringify(s)),e.setUserInfo(i.profile),e.$message({message:"登录成功",type:"success"}),setTimeout((function(){e.loginLoading=!1,e.$router.go(-1)}),1500)),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},isEmpty:function(t){return void 0===t||null===t||"object"===o()(t)&&0===Object.keys(t).length||"string"===typeof t&&0===t.trim().length}},Object(p["d"])({setUserInfo:"SET_USERINFO",setLoginStatu:"SET_LOGINSTATU"}))},y=v,b=(n("c00b"),n("2877")),x=Object(b["a"])(y,i,s,!1,null,null,null);e["default"]=x.exports},7037:function(t,e){function n(e){return t.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports["default"]=t.exports,n(e)}t.exports=n,t.exports.__esModule=!0,t.exports["default"]=t.exports},"94b3":function(t,e,n){"use strict";(function(t){function i(t,e){return{x:t,y:e}}function s(t){return i(t?t.width/2:0,t?t.height/2:0)}function r(t){const{target:e,event:n}=t,r=n.clientX,o=n.clientY,a=r-e.left,l=o-e.top,c=s(e),u=a/c.x,d=l/c.y;return{...i(u,d),target:e}}function o(t){const{target:e}=t,n=(e.left-window.innerWidth)/(e.width+window.innerWidth),s=(e.top-window.innerHeight)/(e.height+window.innerHeight);return{...i(n,s),target:e}}function a(t){const{event:e,target:n}=t,s=e.gamma/45,r=e.beta/90;return{...i(s,r),target:n}}function l(t){const e=t.bottom>=0&&t.right>=0&&t.top<=(window.innerHeight||document.documentElement.clientHeight)&&t.left<=(window.innerWidth||document.documentElement.clientWidth);return e}function c(){try{return/Mobi|Android/i.test(navigator.userAgent)}catch(t){return!0}}function u(t,e,n){let i,s;return function(){const r=this;let o;o="scroll"===n||r.duration>1e3?e:r.duration/10;const a=+new Date,l=arguments;i&&a<i+o?(clearTimeout(s),s=setTimeout(()=>{requestAnimationFrame(()=>{i=a,t.apply(r,l)})},o)):requestAnimationFrame(()=>{i=a,t.apply(r,l)})}}n.d(e,"a",(function(){return w})),n.d(e,"b",(function(){return E}));var d={props:{audio:{type:String,required:!1},playAudio:{type:Boolean,default:!1}},data(){return{analyser:null,audioArray:null,audioData:null,audioRef:null,wasPlayed:!1,isPlaying:!1}},watch:{audio(){this.wasPlayed=!1,this.isPlaying=!1},playAudio(t){t?this.play():this.stop()}},methods:{play(){this.active&&(this.wasPlayed||(this.handleAudio(),this.wasPlayed=!0),this.isPlaying=!0,this.audioRef.play(),this.getSongData())},stop(){this.isPlaying=!1,this.audioRef.pause()},handleAudio(){const{audio:t}=this.$refs;this.audioRef=t;const e=new AudioContext,n=e.createMediaElementSource(t),i=e.createAnalyser();n.connect(i),i.connect(e.destination),i.fftSize=256;const s=i.frequencyBinCount,r=new Uint8Array(s);this.audioArray=r,this.analyser=i},getSongData(){this.isPlaying&&(this.analyser.getByteFrequencyData(this.audioArray),this.audioData=new Array(this.audioArray),requestAnimationFrame(this.getSongData))}}},h={name:"KinesisContainer",mixins:[d],props:{tag:{type:String,default:"div"},event:{type:String,default:"move"},active:{type:Boolean,default:!0},duration:{type:Number,default:1e3},easing:{type:String,default:"cubic-bezier(0.23, 1, 0.32, 1)"},perspective:{type:Number,default:1e3}},provide(){const t={},e=["audioData","duration","easing","event","eventData","isMoving","movement","shape"];return e.forEach(e=>Object.defineProperty(t,e,{enumerable:!0,get:()=>this[e]})),{context:t}},data(){var t;return{shape:null===(t=this.$el)||void 0===t?void 0:t.getBoundingClientRect(),isMoving:!1,leftOnce:!1,movement:{x:0,y:0},eventMap:{orientation:"deviceorientation",scroll:"scroll",move:c()?"deviceorientation":null}}},computed:{eventActions(){var t;return{move:{action:r,condition:this.isMoving&&!c(),type:c()?"deviceorientation":null},scroll:{action:o,condition:!(null===(t=this.shape)||void 0===t||!t.height),type:"scroll"},orientation:{action:a,condition:"move"===this.event&&c(),type:"deviceorientation"}}},style(){return{perspective:this.perspective+"px"}}},mounted(){this.addEvents()},beforeDestroy(){this.removeEvents()},methods:{handleMovementStart(){this.active&&(this.isMoving=!0)},handleMovementStop(){this.active&&(this.leftOnce=!0,this.isMoving=!1)},handleMovement:u((function(t){if(!this.active)return;this.isMoving||this.leftOnce||this.handleMovementStart(),this.shape=this.$el.getBoundingClientRect();const e=l(this.shape),n=this.eventActions[this.event].condition,s=this.eventActions[this.event].action;e&&n&&(this.movement=s({target:this.shape,event:t}),this.eventData=i(t.clientX,t.clientY))}),100),addEvents(){this.eventMap[this.event]&&window.addEventListener(this.eventMap[this.event],this.handleMovement,!0)},removeEvents(){this.eventMap[this.event]&&window.removeEventListener(this.eventMap[this.event],this.handleMovement,!0)}}};function m(t,e,n,i,s,r,o,a,l,c){"boolean"!==typeof o&&(l=a,a=o,o=!1);const u="function"===typeof n?n.options:n;let d;if(t&&t.render&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0,s&&(u.functional=!0)),i&&(u._scopeId=i),r?(d=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,l(t)),t&&t._registeredComponents&&t._registeredComponents.add(r)},u._ssrRegister=d):e&&(d=o?function(t){e.call(this,c(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,a(t))}),d)if(u.functional){const t=u.render;u.render=function(e,n){return d.call(n),t(e,n)}}else{const t=u.beforeCreate;u.beforeCreate=t?[].concat(t,d):[d]}return n}const p=h;var f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t.tag,{tag:"component",style:t.style,on:{mousemove:t.handleMovement,mouseenter:t.handleMovementStart,mouseleave:t.handleMovementStop}},[t._t("default"),t._v(" "),t.audio?n("audio",{ref:"audio",attrs:{type:"audio/mpeg"},on:{ended:t.stop}},[n("source",{attrs:{src:t.audio}})]):t._e()],2)},g=[];const v=void 0,y=void 0,b=void 0,x=!1,w=m({render:f,staticRenderFns:g},v,p,y,x,b,!1,void 0,void 0,void 0);function M(t,e,n){return n&&t>n?n:e&&t<e?e:t}function S(t){const{y:e,x:n,target:s,originX:r=50,strength:o=10,event:a=null,minX:l,minY:c,maxX:u,maxY:d}=t;let{originY:h=50}=t;"scroll"===a&&(h=-h/2);const m=M((n-r/50)*o,l,u),p=M((e-h/50)*o,c,d);return{...i(m,p),target:s}}var _={methods:{transformSwitch(t,e,n,i){let s;switch(t="scaleX"===t||"scaleY"===t?"scale":t,t){case"translate":s=this.translateMovement(e,n);break;case"rotate":s=this.rotateMovement(e,n);break;case"depth":s=this.depthMovement(e,n,i);break;case"depth_inv":s=this.depthMovement(-e,-n,i);break;case"scale":s=this.scaleMovement(e,n);break}return s},translateMovement(t,e){return`translate3d(${-t}px, ${-e}px, 0)`},rotateMovement(t,e){let n;return this.axis?"x"===this.axis?n=2*t:"y"===this.axis&&(n=2*e):n=t+e,`rotate3d(0,0,1,${n}deg)`},depthMovement(t,e,n){return`rotateX(${-e}deg) rotateY(${t}deg) translate3d(0,0,${2*n}px)`},scaleMovement(t,e){const{type:n}=this,i=Math.sign(this.strength)*(Math.abs(t)+Math.abs(e))/10+1;return`scale3d(${"scaleX"===n||"scale"===n?i:1},\n            ${"scaleY"===n||"scale"===n?i:1},\n            1)`}}};function O(t){const{referencePosition:e,shape:n,event:s,cycles:r,strength:o}=t,a="scroll"===s?window.innerWidth:n.width,l="scroll"===s?window.innerHeight:n.height,c=(e.x-n.left)*(2*Math.PI)/a,u=(e.y-n.top)*(2*Math.PI)/l,d=a*Math.sin(c*r),h=l*Math.sin(u*r);return i(d*o/(a/2),h*o/(l/2))}var C={name:"KinesisElement",mixins:[_],props:{tag:{type:String,default:"div"},type:{type:String,default:"translate"},transformOrigin:{type:String,default:"center"},originX:{type:Number,default:50},originY:{type:Number,default:50},strength:{type:Number,default:10},axis:{type:String,default:null},maxX:{type:Number,default:null},maxY:{type:Number,default:null},minX:{type:Number,default:null},minY:{type:Number,default:null},cycle:{type:Number,default:0}},inject:["context"],computed:{transform(){return this.transformCalculation()},transformParameters(){return{transitionProperty:"transform",transitionDuration:this.transitionDuration,transformOrigin:this.transformOrigin,transitionTimingFunction:this.transitionTimingFunction}},transitionDuration(){const{duration:t}=this.context;return t+"ms"},transitionTimingFunction(){return this.context.easing}},methods:{transformCalculation(){const{context:t}=this;if(!t.shape||!t.isMoving&&"move"===t.event)return{};let e,n;const{x:i,y:s}=this.cycle<1?S({...t.movement,originX:this.originX,originY:this.originY,strength:this.strengthManager(),event:t.event,minX:this.minX,minY:this.minY,maxX:this.maxX,maxY:this.maxY}):O({referencePosition:"scroll"===t.event?{x:0,y:0}:t.eventData,shape:t.shape,event:t.event,cycles:this.cycle,strength:this.strengthManager()});return"scroll"!==t.event?(e="y"===this.axis?0:i,n="x"===this.axis?0:s):"scroll"===t.event?(e="x"===this.axis?s:0,n="y"!==this.axis&&this.axis?0:s):this.cycle>0&&(e="x"===this.axis?i:0,n="y"===this.axis?s:0),{transform:this.transformSwitch(this.type,e,n,this.strength)}},strengthManager(){return"depth"===this.type||"depth_inv"===this.type?Math.abs(this.strength):this.strength}},render(t){const e=this;return t(e.tag,{style:{...e.transform,...e.transformParameters}},e.$slots.default)}};const $=C,D=void 0,N=void 0,P=void 0,k=void 0,E=m({},D,$,N,k,P,!1,void 0,void 0,void 0);var X={props:{type:{type:String,default:"translate"},transformOrigin:{type:String,default:"center"},originX:{type:Number,default:50},originY:{type:Number,default:50},strength:{type:Number,default:10},audioIndex:{type:Number,default:50},axis:{type:String,default:null},maxX:{type:Number,default:null},maxY:{type:Number,default:null},minX:{type:Number,default:null},minY:{type:Number,default:null},cycle:{type:Number,default:0}},methods:{strengthManager(){return"depth"===this.type||"depth_inv"===this.type?Math.abs(this.strength):this.strength}}},F={name:"KinesisAudio",inject:["context"],mixins:[X],props:{tag:{type:String,default:"div"},audioIndex:{type:Number,default:50}},computed:{transform(){return this.transformAudio()},transformParameters(){return{transitionProperty:"transform",transitionDuration:this.transitionDuration,transformOrigin:this.transformOrigin,transitionTimingFunction:this.transitionTimingFunction}},transitionDuration(){const{duration:t}=this.context;return t+"ms"},transitionTimingFunction(){return this.context.easing}},methods:{transformAudio(){const{audioData:t}=this.context;if(!t)return;const e=this.type,{strength:n}=this;let i,s;switch(e){case"translate":i=t?t[0][this.audioIndex]:0,s=`translate3d(${i*n}px, 0, 0)`;break;case"rotate":i=t?t[0][this.audioIndex]:0,s=`rotate3d(0,0,1,${i*n/10}deg)`;break;case"scale":i=t?t[0][this.audioIndex]/n<1?1:t[0][this.audioIndex]/(2*n):1,s=`scale(${i})`;break}return{transform:s}}}};const Y=F;var A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t.tag,{tag:"component",style:Object.assign({},t.transform,t.transformParameters)},[t._t("default")],2)},I=[];const j=void 0,T=void 0,R=void 0,L=!1,B=m({render:A,staticRenderFns:I},j,Y,T,L,R,!1,void 0,void 0,void 0);var K={props:{active:{type:Boolean,default:!0},duration:{type:Number,default:1e3},easing:{type:String,default:"cubic-bezier(0.23, 1, 0.32, 1)"},tag:{type:String,default:"div"}}},U={props:{perspective:{type:Number,default:1e3}},computed:{style(){return{perspective:this.perspective+"px"}}}},q={name:"KinesisScroll",mixins:[K,U,X,_],data(){return{transform:{}}},computed:{transformParameters(){return{transitionProperty:"transform",transitionDuration:this.transitionDuration,transformOrigin:this.transformOrigin,transitionTimingFunction:this.easing}},transitionDuration(){return this.duration+"ms"}},mounted(){window.addEventListener("scroll",this.handleScroll,{passive:!0})},beforeDestroy(){window.removeEventListener("scroll",this.handleScroll,{passive:!0})},methods:{getCycleMovement(t,e,n,i,s){const r=(t-s.left)*(2*Math.PI)/n,o=(e-s.top)*(2*Math.PI)/i;this.cycleMovement={x:r,y:o,width:n,height:i}},handleScroll:u((function(){if(!this.active)return;const t=this.$el.getBoundingClientRect(),e=l(t);e&&t.height&&this.transformBehavior(t)}),19,"scroll"),transformBehavior(t){let e,n;const i=(t.top-window.innerHeight)/(t.height+window.innerHeight);if(this.cycle<=0){const t=i*this.strength;e="x"===this.axis?t:0,n="y"!==this.axis&&this.axis?0:t,this.maxX&&(e=Math.min(e,this.maxX)),this.minX&&(e=Math.max(e,this.minX)),this.maxY&&(n=Math.min(n,this.maxY)),this.minY&&(n=Math.max(n,this.minY))}else if(this.cycle>0){const{x:i,y:s,width:r,height:o}=this.getCycleMovement(0,0,window.innerWidth,window.innerHeight,t),a=r*Math.sin(i*this.cycle),l=o*Math.sin(s*this.cycle);e="x"===this.axis?a/(r/2)*this.strength:0,n="y"!==this.axis&&this.axis?0:l/(o/2)*this.strength}let s=this.type;s="scaleX"===s||"scaleY"===s?"scale":s;const r=this.transformSwitch(s,e,n,this.strength);this.transform={transform:r}}}};const H=q;var W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t.tag,{tag:"component",style:Object.assign({},t.transform,t.transformParameters)},[t._t("default")],2)},z=[];const J=void 0,V=void 0,G=void 0,Q=!1,Z=m({render:W,staticRenderFns:z},J,H,V,Q,G,!1,void 0,void 0,void 0);var tt={name:"KinesisDistance",props:{tag:{type:String,default:"div"},type:{type:String,default:"translate"},transformOrigin:{type:String,default:"center"},originX:{type:Number,default:50},originY:{type:Number,default:50},strength:{type:Number,default:10},axis:{type:String,default:null},maxX:{type:Number,default:null},maxY:{type:Number,default:null},minX:{type:Number,default:null},minY:{type:Number,default:null},distance:{type:Number,default:100},cycle:{type:Number,default:0},active:{type:Boolean,default:!0},duration:{type:Number,default:1001},easing:{type:String,default:"cubic-bezier(0.23, 1, 0.32, 1)"},perspective:{type:Number,default:1e3}},data(){return{pointer:{x:0,y:0},transform:{},component:"kidistance",throttle:500}},computed:{style(){return{perspective:this.perspective+"px"}},transformParameters(){return{position:"relative",transitionProperty:"transform",transitionDuration:this.transitionDuration,transformOrigin:this.transformOrigin,transitionTimingFunction:this.easing}},transitionDuration(){return this.duration+"ms"}},mounted(){window.addEventListener("scroll",this.handleMovement)},beforeDestroy(){window.removeEventListener("scroll",this.handleMovement)},methods:{getCoordinates(t,e){const n=this.$el.getBoundingClientRect();return{x:t+n.left,y:e+n.top}},getDistance(t,e,n,i){return Math.floor(Math.hypot(e-t,i-n))},handleMovement:u((function(t){window.addEventListener("mousemove",this.handleMovement);const{pointer:e}=this;e.x=t.clientX,e.y=t.clientY,this.transformBehavior()}),50),transformBehavior(){const t=this.$el.getBoundingClientRect(),e=this.getCoordinates(t.width/2,t.height/2),n=this.getDistance(this.pointer.x,e.x,this.pointer.y,e.y);if(n>this.distance)return this.transform={},void(this.throttle=500);this.throttle=50;const i=`scale(${n/this.distance})`;this.transform={transform:i}},scaleMovement(t,e){const{type:n}=this,i=Math.sign(this.strength)*(Math.abs(t)+Math.abs(e))/10+1;return`scale3d(${"scaleX"===n||"scale"===n?i:1},\n      ${"scaleY"===n||"scale"===n?i:1},\n      1)`}}};const et=tt;var nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t.tag,{tag:"component",style:Object.assign({},t.transform,t.transformParameters)},[t._t("default")],2)},it=[];const st=void 0,rt=void 0,ot=void 0,at=!1,lt=m({render:nt,staticRenderFns:it},st,et,rt,at,ot,!1,void 0,void 0,void 0),ct={install(t){t.component(B.name,B),t.component(w.name,w),t.component(lt.name,lt),t.component(E.name,E),t.component(Z.name,Z)}};let ut=null;"undefined"!==typeof window?ut=window.vue:"undefined"!==typeof t&&(ut=t.vue),ut&&ut.use(ct);var dt=Object.freeze({__proto__:null,default:ct,KinesisAudio:B,KinesisContainer:w,KinesisDistance:lt,KinesisElement:E,KinesisScroll:Z});const ht=function(t){if(!ht.installed){ht.installed=!0;for(const e in dt)t.use(dt[e]);t.component("kinesis-container",w),t.component("kinesis-element",E),t.component("kinesis-audio",B),t.component("kinesis-scroll",Z),t.component("kinesis-distance",lt)}},mt={install:ht};let pt=null;"undefined"!==typeof window?pt=window.vue:"undefined"!==typeof t&&(pt=t.vue),pt&&pt.use(mt)}).call(this,n("c8ba"))},a3d6:function(t,e,n){},a596:function(t,e,n){t.exports=n.p+"img/logo-a.7df49c00.png"},c00b:function(t,e,n){"use strict";n("a3d6")}}]);
//# sourceMappingURL=chunk-5f5b03e8.fa29920b.js.map